# This file includes examples of testing API. There we have two options for using:
#  - httpie
# HTTPie is a bit comfortable for checking JSON data.

# getting of the list Events from backend with headers:
    http :8000/events/

# creating of the new user
    http POST :8000/signup/ email="someone2@example.com" login="MegaUser" role="user" password="123456" secret_phrase="Restore password" avatar="c:\avatar.jpeg"

# creation of objects
    user1 = User(email = "someone@example.com", login = "someone", role = "user", password = "q1w2e3r4", secret_phrase = "Restore password", avatar = "c:\avatar.jpeg")
    user1.save()

    admin1 = Admin(email = "admin@example.com", login = "admin", role = "Admin", password = "q1w2e3r4", secret_phrase = "Restore password", avatar = "c:\avatar_admin.jpeg")
    admin1.save()

    organizer1 = Organizer(email = "organizer@example.com", login = "organizer", role = "Organizer", password = "q1w2e3r4", secret_phrase = "Restore password", avatar = "c:\avatar_organizer.jpeg")
    organizer1.save()

    event1 = Event(event_name = "MMA Fight", date = "2024-01-01", city = "Moscow", description = "This is MMA Fight", price = "0", image = "c:\image_MMAFight.jpeg", age_limit = "6", start_time = "10:00:00", duration = "2", user_limit = "2000")
    event1.save()

    comment1 = Comment(text = "This is a good fight", created_at = "2024-01-01 10:00:00")


# test for signin procedure
    # this is for incorrect password
    http POST :8000/signin/ login="Unknown" password="12345"

    # this is for incorrect password
    http POST :8000/signin/ login="Someone3" password="12345"

    # this is for correct password
    http POST :8000/signin/ login="Someone3" password="12345"